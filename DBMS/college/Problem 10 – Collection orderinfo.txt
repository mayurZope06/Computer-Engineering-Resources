ğŸƒ Problem 10 â€“ Collection: orderinfo
ğŸ¯ Objective:

Perform aggregation, filtering, and indexing.

âœ… Create Collection & Insert Document
use orderDB;

db.orderinfo.insertMany([
  { cust_id: 123, cust_name: "abc", status: "A", price: 250 },
  { cust_id: 124, cust_name: "xyz", status: "B", price: 750 },
  { cust_id: 125, cust_name: "pqr", status: "A", price: 950 }
]);

âœ… 1ï¸âƒ£ Find average price for each customer having status 'A'
db.orderinfo.aggregate([
  { $match: { status: "A" } },
  { $group: { _id: "$cust_id", avgPrice: { $avg: "$price" } } }
]);

âœ… 2ï¸âƒ£ Display customers whose price between 100 and 1000
db.orderinfo.find({ price: { $gte: 100, $lte: 1000 } });

âœ… 3ï¸âƒ£ Display customers info without â€œ_idâ€
db.orderinfo.find({}, { _id: 0 });

âœ… 4ï¸âƒ£ Create index and fire queries
db.orderinfo.createIndex({ cust_id: 1 });
db.orderinfo.find({ status: "A" });


ğŸ’¡ Viva Tip:

Aggregation â†’ $match, $group, $avg

Indexing improves query speed