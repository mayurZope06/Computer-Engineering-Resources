ğŸ§® Problem 13 â€“ Aggregation & Indexing
use department;

db.teacher.insertMany([
  { name: "Amit", department: "CS", experience: 5, salary: 50000 },
  { name: "Raj", department: "IT", experience: 6, salary: 40000 },
  { name: "Pooja", department: "CS", experience: 4, salary: 55000 }
]);


1ï¸âƒ£ Department-wise average salary

db.teacher.aggregate([
  { $group: { _id: "$department", avgSalary: { $avg: "$salary" } } }
]);


2ï¸âƒ£ Number of employees per department

db.teacher.aggregate([
  { $group: { _id: "$department", count: { $sum: 1 } } }
]);


3ï¸âƒ£ Department-wise minimum salary

db.teacher.aggregate([
  { $group: { _id: "$department", minSalary: { $min: "$salary" } } }
]);


4ï¸âƒ£ Apply & Drop Index

db.teacher.createIndex({ department: 1 });
db.teacher.dropIndex({ department: 1 });